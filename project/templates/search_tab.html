{% block top %}
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Ubuntu+Condensed" />
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Ubuntu+Mono" />
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Ubuntu" />
<body style="background-color: #202e44;">
    <div class="outer-frame">
        <div class="tab">
            <div>
                <a href="{{ url_for('main_dashboard') }}">
                    <svg
                    class="tboard-logo"
                    width="184"
                    height="71"
                    viewBox="0 0 184 71"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    >
                    <g clip-path="url(#clip0_46_1085)">
                        <path
                        d="M0.772461 15.1608C0.772461 13.2942 1.70579 12.3608 3.57246 12.3608H25.6925C27.5591 12.3608 28.4925 13.2942 28.4925 15.1608V15.9308C28.4925 17.7975 27.5591 18.7308 25.6925 18.7308H20.6525C18.7858 18.7308 17.8525 19.6642 17.8525 21.5308V59.8211C17.8525 61.6877 16.9191 62.6211 15.0525 62.6211H14.2825C12.4158 62.6211 11.4825 61.6877 11.4825 59.8211V21.5308C11.4825 19.6642 10.5491 18.7308 8.68248 18.7308H3.57246C1.70579 18.7308 0.772461 17.7975 0.772461 15.9308V15.1608Z"
                        fill="white"
                        />
                        <path
                        d="M48.4408 39.031C48.4408 40.8977 47.5074 41.831 45.6406 41.831H32.6906C30.824 41.831 29.8906 40.8977 29.8906 39.031V37.981C29.8906 36.1143 30.824 35.181 32.6906 35.181H45.6406C47.5074 35.181 48.4408 36.1143 48.4408 37.981V39.031ZM75.4043 31.821C76.3376 32.7543 76.8043 33.8977 76.8043 35.251V55.4112C76.8043 56.7646 76.3376 57.9079 75.4043 58.8412L73.0943 61.1512C72.161 62.0846 71.0176 62.5512 69.6643 62.5512H56.8543C54.9876 62.5512 54.0543 61.6179 54.0543 59.7512V15.091C54.0543 13.2243 54.9876 12.291 56.8543 12.291H57.6243C59.491 12.291 60.4243 13.2243 60.4243 15.091V25.311C60.4243 27.1777 61.3576 28.111 63.2243 28.111H69.6643C71.0176 28.111 72.161 28.5777 73.0943 29.511L75.4043 31.821ZM63.2243 34.481C61.3576 34.481 60.4243 35.4143 60.4243 37.281V53.3812C60.4243 55.2479 61.3576 56.1812 63.2243 56.1812H67.6343C69.501 56.1812 70.4343 55.2479 70.4343 53.3812V37.281C70.4343 35.4143 69.501 34.481 67.6343 34.481H63.2243ZM105.281 31.751C106.214 32.731 106.681 33.8977 106.681 35.251V55.5512C106.681 56.9046 106.214 58.0712 105.281 59.0512L103.041 61.2912C102.107 62.2246 100.964 62.6912 99.6108 62.6912H90.9308C89.5774 62.6912 88.4341 62.2246 87.5008 61.2912L85.1908 58.9812C84.2574 58.0479 83.7908 56.9046 83.7908 55.5512V35.251C83.7908 33.8977 84.2574 32.7543 85.1908 31.821L87.5008 29.511C88.4341 28.5777 89.5774 28.111 90.9308 28.111H99.6108C100.964 28.111 102.107 28.5777 103.041 29.511L105.281 31.751ZM100.311 37.281C100.311 35.4143 99.3774 34.481 97.5108 34.481H92.9608C91.0941 34.481 90.1608 35.4143 90.1608 37.281V53.5212C90.1608 55.3879 91.0941 56.3212 92.9608 56.3212H97.5108C99.3774 56.3212 100.311 55.3879 100.311 53.5212V37.281ZM120.803 62.6213C119.45 62.6213 118.307 62.1546 117.373 61.2213L115.063 58.9112C114.13 57.9779 113.663 56.8346 113.663 55.4812V47.3612C113.663 46.661 113.78 46.0543 114.013 45.541C114.247 44.981 114.62 44.4443 115.133 43.931L117.373 41.691C118.307 40.7577 119.45 40.291 120.803 40.291H127.453C129.32 40.291 130.253 39.3577 130.253 37.491V37.281C130.253 35.4143 129.32 34.481 127.453 34.481H116.673C114.807 34.481 113.873 33.5477 113.873 31.681V30.911C113.873 29.0443 114.807 28.111 116.673 28.111H129.483C130.837 28.111 131.98 28.5777 132.913 29.511L135.224 31.821C136.157 32.7543 136.624 33.8977 136.624 35.251V59.8212C136.624 61.6879 135.69 62.6213 133.824 62.6213H120.803ZM130.253 48.8312C130.253 46.9643 129.32 46.031 127.453 46.031H122.833C120.967 46.031 120.033 46.9643 120.033 48.8312V54.0812C120.033 55.9479 120.967 56.8812 122.833 56.8812H127.453C129.32 56.8812 130.253 55.9479 130.253 54.0812V48.8312ZM151.427 59.8212C151.427 61.6879 150.494 62.6213 148.627 62.6213H147.857C145.99 62.6213 145.057 61.6879 145.057 59.8212V35.251C145.057 33.8977 145.524 32.7543 146.457 31.821L148.767 29.511C149.7 28.5777 150.844 28.111 152.197 28.111H153.457C155.324 28.111 156.257 29.0443 156.257 30.911V31.681C156.257 33.5477 155.464 34.481 153.877 34.481C153.084 34.481 152.477 34.7377 152.057 35.251C151.637 35.7177 151.427 36.3943 151.427 37.281V59.8212ZM164.13 29.511C165.063 28.5777 166.23 28.111 167.63 28.111H174.07C175.936 28.111 176.87 27.1777 176.87 25.311V15.231C176.87 13.3643 177.803 12.431 179.67 12.431H180.44C182.306 12.431 183.24 13.3643 183.24 15.231V59.8912C183.24 61.7579 182.306 62.6912 180.44 62.6912H167.63C166.276 62.6912 165.133 62.2246 164.2 61.2912L161.89 58.9812C160.956 58.0479 160.49 56.9046 160.49 55.5512V35.181C160.49 33.8277 160.956 32.6843 161.89 31.751L164.13 29.511ZM166.86 53.5212C166.86 55.3879 167.793 56.3212 169.66 56.3212H174.07C175.936 56.3212 176.87 55.3879 176.87 53.5212V37.281C176.87 35.4143 175.936 34.481 174.07 34.481H169.66C167.793 34.481 166.86 35.4143 166.86 37.281V53.5212Z"
                        fill="#A2B7CA"
                        />
                    </g>
                    <defs>
                        <clipPath id="clip0_46_1085">
                        <rect
                            width="182.933"
                            height="70"
                            fill="white"
                            transform="translate(0.533203 0.5)"
                        />
                        </clipPath>
                    </defs>
                    </svg>
                </a>
            </div>
            <div class="search">
                <form method="POST" action="/search_dashboard" class="search-form">
                    <input type = "text" id="input-search" name="input-search" placeholder="Search keyword" class="input-search" required>
                    <button class="btn-search">
                        <svg
                            class="icon-magnifying-glass"
                            width="40"
                            height="40"
                            viewBox="0 0 40 40"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                            d="M17.5393 0.548313C8.21496 0.548313 0.629883 8.13339 0.629883 17.4577C0.629883 26.7821 8.21496 34.3671 17.5393 34.3671C20.3897 34.3671 23.1919 33.6908 25.5592 32.3863C25.7488 32.6145 25.9591 32.8248 26.1873 33.0144L31.0185 37.8456C31.4646 38.3476 32.0086 38.7531 32.6171 39.0372C33.2256 39.3214 33.8857 39.4781 34.557 39.4979C35.2283 39.5176 35.8965 39.4 36.5206 39.1521C37.1448 38.9043 37.7117 38.5315 38.1865 38.0567C38.6614 37.5818 39.0342 37.0149 39.282 36.3907C39.5299 35.7666 39.6475 35.0984 39.6277 34.4271C39.608 33.7558 39.4512 33.0957 39.1671 32.4872C38.883 31.8787 38.4775 31.3347 37.9755 30.8886L33.1443 26.0574C32.9089 25.8219 32.6499 25.6115 32.3713 25.4293C33.6757 23.062 34.497 20.3082 34.497 17.4094C34.497 8.08508 26.9119 0.5 17.5876 0.5L17.5393 0.548313ZM17.5393 5.37957C24.2547 5.37957 29.6174 10.7423 29.6174 17.4577C29.6174 20.6464 28.4579 23.5934 26.4288 25.7675C26.3805 25.8158 26.3322 25.8641 26.2839 25.9124C26.0557 26.1021 25.8454 26.3123 25.6558 26.5405C23.5301 28.473 20.6313 29.5842 17.491 29.5842C10.7755 29.5842 5.41283 24.2215 5.41283 17.506C5.41283 10.7906 10.7755 5.42789 17.491 5.42789L17.5393 5.37957Z"
                            fill="black"
                            fill-opacity="0.7"
                            />
                        </svg>
                    </button>
                </form>
            </div>

            <div class="frame-btn">
                <a href="{{ url_for('event_post') }}">
                    <svg
                        class="post"
                        width="61"
                        height="61"
                        viewBox="0 0 61 61"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                        d="M30.4668 0.5C13.9668 0.5 0.466797 14 0.466797 30.5C0.466797 47 13.9668 60.5 30.4668 60.5C46.9668 60.5 60.4668 47 60.4668 30.5C60.4668 14 46.9668 0.5 30.4668 0.5ZM30.4668 8C42.9168 8 52.9668 18.05 52.9668 30.5C52.9668 42.95 42.9168 53 30.4668 53C18.0168 53 7.9668 42.95 7.9668 30.5C7.9668 18.05 18.0168 8 30.4668 8ZM30.4668 15.5C22.2168 15.5 15.4668 22.25 15.4668 30.5C15.4668 38.75 22.2168 45.5 30.4668 45.5C38.7168 45.5 45.4668 38.75 45.4668 30.5C45.4668 22.25 38.7168 15.5 30.4668 15.5ZM30.4668 23C34.6668 23 37.9668 26.3 37.9668 30.5C37.9668 34.7 34.6668 38 30.4668 38C26.2668 38 22.9668 34.7 22.9668 30.5C22.9668 26.3 26.2668 23 30.4668 23Z"
                        fill="#A2B7CA"
                        />
                    </svg>
                </a>
                <a href="{{ url_for('bookmark') }}">
                    <svg
                        class="bookmark"
                        width="31"
                        height="61"
                        viewBox="0 0 31 61"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                        d="M0.466797 0.5V60.5L15.4668 45.5L30.4668 60.5V0.5H0.466797Z"
                        fill="#A34A4A"
                        />
                    </svg>
                </a>
                <a href="{{ url_for('my_account_myevents', username=session['username']) }}">
                    {% if profile_picture.lower() == "default" %}
                        <svg
                            class="account"
                            width="61"
                            height="61"
                            viewBox="0 0 61 61"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <circle cx="30.4668" cy="30.5" r="30" fill="#657895" />
                            <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M53.7534 49.4154C57.9508 44.2543 60.4668 37.671 60.4668 30.5C60.4668 13.9315 47.0353 0.5 30.4668 0.5C13.8983 0.5 0.466797 13.9315 0.466797 30.5C0.466797 37.9702 3.19713 44.8026 7.71431 50.0539C9.41846 45.7746 13.5115 42.7271 18.3268 42.5C21.5668 46.16 26.0068 48.5 30.8668 48.5C35.7268 48.5 40.1668 46.16 43.4068 42.5C48.0221 42.7157 51.9243 45.4741 53.7534 49.4154ZM18.8668 27.5C18.8668 19.22 24.2668 12.5 30.8668 12.5C37.4668 12.5 42.8668 19.22 42.8668 27.5C42.8668 35.78 37.4668 42.5 30.8668 42.5C24.2668 42.5 18.8668 35.78 18.8668 27.5Z"
                            fill="#D9D9D9"
                            />
                        </svg>
                    {% else %}
                        <img 
                            src="{{ url_for('static', filename='profile_picture/' + profile_picture.lower() + '.png') }}" 
                            alt="Profile Picture" 
                            class="account"
                            width="61"
                            height="61"
                            viewBox="0 0 61 61"
                        >
                    {% endif %}
                </a>
            </div>
        </div>
        {% block content %}
        {% endblock %}
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        // $(document).ready(function() {
        //     $(document).on('click', '.btn-bookmark', function(event) {
        //         event.preventDefault(); // Prevent form submission or default button action

        //         var button = $(this); // The button that was clicked
        //         var buttonValue = button.val(); // The value of the button
        //             // Perform the AJAX call
        //             $.ajax({
        //                 url: '/toggle_value', // The route in your Flask app
        //                 type: 'POST',
        //                 contentType: 'application/json;charset=UTF-8',
        //                 data: JSON.stringify({ value: buttonValue }),
        //                 dataType: 'json',
        //                 success: function(response) {
        //                     console.log('Server response:', response);
        //                     // Optionally toggle button appearance based on response
        //                     if (response.added) {
        //                         button.addClass('added');
        //                     } else {
        //                         button.removeClass('added');
        //                     }
        //                 },
        //                 error: function(xhr, status, error) {
        //                     console.log('An error occurred:', error);
        //                 }
        //             });
        //     });
        // });
        $(document).ready(function() {
            $(document).on('click', '.btn-bookmark', function(event) {
                event.preventDefault(); // Prevent form submission or default button action

                var button = $(this); // The button that was clicked
                var buttonValue = button.val(); // The value of the button

                // Perform the AJAX call
                $.ajax({
                    url: '/toggle_value', // The route in your Flask app
                    type: 'POST',
                    contentType: 'application/json;charset=UTF-8',
                    data: JSON.stringify({ value: buttonValue }),
                    dataType: 'json',
                    success: function(response) {
                        console.log('Server response:', response);
                        // Toggle SVG appearance based on response
                        var svg = button.find('svg'); // Find the SVG within the clicked button
                        if (response.added) {
                            svg.attr('fill', '#A34A4A'); // Fill color for bookmarked
                            button.addClass('added');
                        } else {
                            svg.attr('fill', 'none'); // No fill for not bookmarked
                            button.removeClass('added');
                        }
                    },
                    error: function(xhr, status, error) {
                        console.log('An error occurred:', error);
                    }
                });
            });
        });
        </script>
</body>
{% include "base_input.html" %}
<style>
    * {
        box-sizing: border-box;
    }
    .outer-frame {
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: flex-start;
        gap: 30px;
    }
    .tab {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        gap: 30px;
        padding: 50px 50px 0px 50px;
        width: 100%;
    }
    .tboard-logo {
        flex-shrink: 0;
        position: relative;
        overflow: visible;
    }
    .search {
        background: #ebebeb;
        border-radius: 15px;
        display: flex;
        flex-direction: reverse;
        align-items: center;
        flex-shrink: 1;
        width: 700px;
        height: 55px;
        position: relative;
        box-shadow: inset 0px 4px 4px 0px rgba(0, 0, 0, 0.25);
        gap: 10px;
        padding: 5px 10px 5px 10px;
    }
    .search-form {
        display: flex;
        flex-direction: row;
        width: 700px;
        height: 55px;
        margin: 0%;
        align-items: center;
        justify-content: center;
    }
    .btn-search {
        background-color: transparent;
        border: transparent;
        width: fit-content;
        height: fit-content;
        padding: 0%;
    }
    #input-search {
        background-color: transparent;
        border: transparent;
        outline: transparent;
        width: 100%;
        height: 100%;
        position: relative;
        font: 400 30px "Ubuntu Condensed", sans-serif;    
    }
    .txt {
        color: rgba(0, 0, 0, 0.7);
        text-align: left;
        font: 700 34px "Ubuntu Mono", sans-serif;
        left: calc(50% - 280.31px);
        top: calc(50% - 15.5px);
    }
    .icon-magnifying-glass {
        position: relative;
        overflow: visible;
    }
    .frame-btn {
        display: flex;
        flex-direction: row;
        gap: 30px;
        align-items: center;
        justify-content: flex-start;
        flex-shrink: 0;
        position: relative;
    }
    .post {
        flex-shrink: 0;
        position: relative;
        overflow: visible;
    }
    .bookmark {
        flex-shrink: 0;
        position: relative;
        overflow: visible;
    }
    .account {
        flex-shrink: 0;
        position: relative;
        overflow: hidden;
        width: 65px;
        height: 65px;
        border-radius: 50%;
        border: 3px solid #6f879e;
    }
</style>
{% endblock %}